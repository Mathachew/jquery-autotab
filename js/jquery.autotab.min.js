/**
 * Autotab - jQuery plugin 1.8.1
 * https://github.com/Mathachew/jquery-autotab
 * 
 * Copyright (c) 2008, 2014 Matthew Miller
 * 
 * Licensed under the MIT licensing:
 *   http://www.opensource.org/licenses/mit-license.php
 */

(function(e){var t=navigator.platform,g=null,r="iPad"===t||"iPhone"===t||"iPod"===t,v="undefined"!==typeof InstallTrigger,k=function(a,f){if(null!==f&&"undefined"!==typeof f)for(var b in f)e(a).data("autotab-"+b,f[b])},l=function(a){var f={format:"all",loaded:!1,disabled:!1,pattern:null,uppercase:!1,lowercase:!1,nospace:!1,maxlength:2147483647,target:null,previous:null,trigger:null,originalValue:"",changed:!1,editable:"text"==a.type||"password"==a.type||"textarea"==a.type,tabOnSelect:!1};if(!0===
e.autotab.selectFilterByClass&&"undefined"===typeof e(a).data("autotab-format")){var b="all text alpha number numeric alphanumeric hex hexadecimal custom".split(" "),c;for(c in b)if(e(a).hasClass(b[c])){f.format=b[c];break}}for(c in f)"undefined"!==typeof e(a).data("autotab-"+c)&&(f[c]=e(a).data("autotab-"+c));f.loaded||(null!==f.trigger&&"string"===typeof f.trigger&&(f.trigger=f.trigger.toString()),k(a,f));return f},n=function(a){return"undefined"!==typeof a&&("string"===typeof a||!(a instanceof
jQuery))};e.autotab=function(a){"object"!==typeof a&&(a={});e(":input").autotab(a)};e.autotab.selectFilterByClass=!1;e.autotab.next=function(){var a=e(document.activeElement);a.length&&a.trigger("autotab-next")};e.autotab.previous=function(){var a=e(document.activeElement);a.length&&a.trigger("autotab-previous")};e.autotab.remove=function(a){n(a)?e(a).autotab("remove"):e(":input").autotab("remove")};e.autotab.restore=function(a){n(a)?e(a).autotab("restore"):e(":input").autotab("restore")};e.autotab.refresh=
function(a){n(a)?e(a).autotab("refresh"):e(":input").autotab("refresh")};e.fn.autotab=function(a,f){if(!this.length)return this;var b=e.grep(this,function(a,d){return"hidden"!=a.type});if("filter"==a){if("string"===typeof f||"function"===typeof f)f={format:f};for(var c=0,m=b.length;c<m;c++){var d=l(b[c]),h=f;h.target=d.target;h.previous=d.previous;e.extend(d,h);d.loaded?k(b[c],d):(d.disabled=!0,s(b[c],h))}}else if("remove"==a||"destroy"==a||"disable"==a)for(c=0,m=b.length;c<m;c++)d=l(b[c]),d.disabled=
!0,k(b[c],d);else if("restore"==a||"enable"==a)for(c=0,m=b.length;c<m;c++)d=l(b[c]),d.disabled=!1,k(b[c],d);else if("refresh"==a)for(c=0,m=b.length;c<m;c++){var d=l(b[c]),p=c+1,q=c-1,h=function(){d.target=0<c&&p<m?b[p]:0<c?null:b[p]},g=function(){d.previous=0<c&&p<m?b[q]:0<c?b[q]:null};if(null===d.target||""===d.target.selector)h();else if("string"===typeof d.target||d.target.selector)d.target=e("string"===typeof d.target?d.target:d.target.selector),0===d.target.length&&h();if(null===d.previous||
""===d.previous.selector)g();else if("string"===typeof d.previous||d.previous.selector)d.previous=e("string"===typeof d.previous?d.previous:d.previous.selector),0===d.previous.length&&g();d.loaded?(n(d.target)&&(d.target=e(d.target)),n(d.previous)&&(d.previous=e(d.previous)),k(b[c],d)):s(b[c],d)}else if(null===a||"undefined"===typeof a?f={}:"string"===typeof a||"function"===typeof a?f={format:a}:"object"===typeof a&&(f=a),1<b.length)for(c=0,m=b.length;c<m;c++)p=c+1,q=c-1,h=f,0<c&&p<m?(h.target=b[p],
h.previous=b[q]):0<c?(h.target=null,h.previous=b[q]):(h.target=b[p],h.previous=null),s(b[c],h);else s(b[0],f);return this};var u=function(a,e,b){if("function"===typeof b.format)return b.format(e,a);a=null;switch(b.format){case "text":a=RegExp("[0-9]+","g");break;case "alpha":a=RegExp("[^a-zA-Z]+","g");break;case "number":case "numeric":a=RegExp("[^0-9]+","g");break;case "alphanumeric":a=RegExp("[^0-9a-zA-Z]+","g");break;case "hex":case "hexadecimal":a=RegExp("[^0-9A-Fa-f]+","g");break;case "custom":a=
new RegExp(b.pattern,"g")}null!==a&&(e=e.replace(a,""));b.nospace&&(a=RegExp("[ ]+","g"),e=e.replace(a,""));b.uppercase&&(e=e.toUpperCase());b.lowercase&&(e=e.toLowerCase());return e},s=function(a,f){var b=l(a);b.disabled&&(b.disabled=!1,b.target=null,b.previous=null);e.extend(b,f);n(b.target)&&(b.target=e(b.target));n(b.previous)&&(b.previous=e(b.previous));var c=a.maxLength;"undefined"===typeof a.maxLength&&"textarea"==a.type&&(c=a.maxLength=a.getAttribute("maxlength"));2147483647==b.maxlength&&
2147483647!=c&&-1!=c?b.maxlength=c:0<b.maxlength?a.maxLength=b.maxlength:b.target=null;if(b.loaded)k(a,b);else{b.loaded=!0;k(a,b);if("select-one"==a.type)e(a).on("change",function(a){l(this).tabOnSelect&&e(this).trigger("autotab-next")});e(a).on("autotab-next",function(a,d){var e=this;setTimeout(function(){d||(d=l(e));var a=d.target;d.disabled||!a.length||r||(a.prop("disabled")||a.prop("readonly")?a.trigger("autotab-next"):a.focus().select(),g=new Date)},1)}).on("autotab-previous",function(a,d){var e=
this;setTimeout(function(){d||(d=l(e));var a=d.previous;if(!d.disabled&&a.length){var b=a.val();a.prop("disabled")||a.prop("readonly")?a.trigger("autotab-previous"):b.length&&a.data("autotab-editable")?(a.focus().val(b.substring(0,b.length-1)),k(a,{changed:!0})):a.focus();g=null}},1)}).on("focus",function(){k(this,{originalValue:this.value})}).on("blur",function(){var a=l(this);a.changed&&this.value!=a.originalValue&&(k(this,{changed:!1}),e(this).change())}).on("keydown",function(a){var d=l(this);
if(!d||d.disabled)return!0;var b=a.which||a.charCode;if(8==b){if("select-one"===this.type||"checkbox"===this.type||"radio"===this.type||"button"===this.type||"submit"===this.type||"range"===this.type)return e(this).trigger("autotab-previous",d),!1;0===this.value.length?e(this).trigger("autotab-previous",d):k(this,{changed:this.value!==d.originalValue})}else if(9==b&&null!==g)if(a.shiftKey)g=null;else if(800>(new Date).getTime()-g.getTime())return g=null,!1}).on("keypress",function(a){var d=l(this),
b=a.which||a.keyCode;if(!d||d.disabled||v&&0===a.charCode||a.ctrlKey||a.altKey||13==b||"text"!=this.type&&"password"!=this.type&&"textarea"!=this.type||this.disabled)return!0;b=String.fromCharCode(b);if(null!==d.trigger&&0<=d.trigger.indexOf(b))return null!==g&&800>(new Date).getTime()-g.getTime()?g=null:e(this).trigger("autotab-next",d),!1;g=null;a=document.selection&&document.selection.createRange?!0:0<a.charCode;b=u(this,b,d);if(a&&(null===b||""===b))return!1;if(a&&this.value.length<=this.maxLength){var c,
f;a=0;if("number"===typeof this.selectionStart&&"number"===typeof this.selectionEnd)c=this.selectionStart,f=this.selectionEnd,a=1;else if(document.selection&&document.selection.createRange){f=document.selection.createRange();c=this.createTextRange();a=this.createTextRange();var n=f.getBookmark();c.moveToBookmark(n);a.setEndPoint("EndToStart",c);c=a.text.length;f=c+f.text.length;a=2}if(0===c&&f==this.value.length)this.value=b;else{if(this.value.length==this.maxLength&&c===f)return e(this).trigger("autotab-next",
d),!1;this.value=this.value.slice(0,c)+b+this.value.slice(f)}k(this,{changed:this.value!=d.originalValue});this.value.length!=d.maxlength&&(c++,1==a?this.selectionStart=this.selectionEnd=c:2==a&&(b=this.createTextRange(),b.collapse(!0),b.moveEnd("character",c),b.moveStart("character",c),b.select()))}this.value.length==d.maxlength&&e(this).trigger("autotab-next",d);return!1}).on("paste",function(a){var b=l(this);if(!b)return!0;this.maxLength=2147483647;(function(a,c){setTimeout(function(){var f=-1,
g=document.createElement("input");g.type="hidden";g.value=a.value.toLowerCase();g.originalValue=a.value;a.maxLength=c.maxlength;a.value=u(a,a.value,c).substr(0,c.maxlength);var k=function(a,b){if(a){var d=l(a);if(e(a).prop("disabled")||e(a).prop("readonly"))e(a).trigger("autotab-next"),r||k(d.target[0],b);else{for(var c=0,h=b.length;c<h;c++)f=g.value.indexOf(b.charAt(c).toLowerCase(),f)+1;c=g.originalValue.substr(f);(c=u(a,c,d).substr(0,d.maxlength))?(a.value=c,c.length==d.maxlength&&(e(a).trigger("autotab-next",
d),r||k(d.target[0],c))):a.value=""}}};a.value.length==c.maxlength&&(e(a).trigger("autotab-next",b),r||k(c.target[0],a.value.toLowerCase()))},1)})(this,b)})}};e.fn.autotab_magic=function(a){return e(this).autotab()};e.fn.autotab_filter=function(a){var f={};"string"===typeof a||"function"===typeof a?f.format=a:e.extend(f,a);return e(this).autotab("filter",f)}})(jQuery);
